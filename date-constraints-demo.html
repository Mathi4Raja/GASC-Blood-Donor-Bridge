<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date of Birth Constraints Demo - GASC Blood Bridge</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .demo-container {
            max-width: 600px;
            margin: 50px auto;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .constraint-info {
            background: #f8f9fa;
            border-left: 4px solid #dc2626;
            padding: 15px;
            margin: 20px 0;
        }
    </style>
</head>
<body style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%); min-height: 100vh;">
    <div class="demo-container">
        <h2 class="text-center text-danger mb-4">
            <i class="fas fa-calendar-alt me-2"></i>Date of Birth Constraints Demo
        </h2>
        
        <div class="constraint-info">
            <h5 class="text-danger">Age Requirements for Blood Donation:</h5>
            <ul class="mb-0">
                <li><strong>Minimum Age:</strong> 18 years old</li>
                <li><strong>Maximum Age:</strong> 65 years old</li>
                <li><strong>Current Valid Range:</strong> August 7, 1960 to August 7, 2007</li>
            </ul>
        </div>
        
        <div class="mb-3">
            <label for="date_of_birth" class="form-label">
                <i class="fas fa-calendar-alt text-danger me-1"></i>Date of Birth
            </label>
            <input type="date" class="form-control" id="date_of_birth" name="date_of_birth" 
                   max="2007-08-07" min="1960-08-07" required>
            <div class="form-text">Try selecting dates outside the valid range - they will be disabled!</div>
        </div>
        
        <div class="alert alert-info">
            <strong>Features Implemented:</strong>
            <ul class="mb-0 mt-2">
                <li>✅ Dynamic date constraints based on current date</li>
                <li>✅ Prevents selection of invalid dates in calendar</li>
                <li>✅ Real-time JavaScript validation</li>
                <li>✅ Server-side PHP validation</li>
                <li>✅ User-friendly error messages</li>
                <li>✅ Applied to both Admin and Donor registration forms</li>
            </ul>
        </div>
        
        <div id="validation-result" class="mt-3"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
        document.getElementById('date_of_birth').addEventListener('change', function() {
            const selectedDate = new Date(this.value);
            const today = new Date();
            const age = Math.floor((today - selectedDate) / (365.25 * 24 * 60 * 60 * 1000));
            
            const resultDiv = document.getElementById('validation-result');
            
            if (age < 18) {
                resultDiv.innerHTML = `
                    <div class="alert alert-danger">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Invalid:</strong> Age ${age} is too young. Must be at least 18 years old.
                    </div>
                `;
            } else if (age > 65) {
                resultDiv.innerHTML = `
                    <div class="alert alert-danger">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Invalid:</strong> Age ${age} exceeds maximum limit. Must be under 65 years old.
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle me-2"></i>
                        <strong>Valid:</strong> Age ${age} meets the requirements for blood donation.
                    </div>
                `;
            }
        });
    </script>
</body>
</html>
